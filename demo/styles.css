:root {
  --bg: #0f1115;
  --panel: #181b21;
  --panel-alt: #f5f7fa;
  --border: #2a3039;
  --border-alt: #d5dae2;
  --text: #f5f7fa;
  --text-alt: #14181d;
  --accent: #5b8aff;
  --accent-glow: #5b8aff33;
  --danger: #ff5263;

  --radius: 0.625rem; /* 10px */
  --ring: 0.1875rem; /* 3px */
  --hairline: 0.0625rem; /* 1px */

  --dur-fast: 160ms;
  --ease: cubic-bezier(0.4, 0.1, 0.2, 1);
}

:root.light {
  --bg: #f5f7fa;
  --panel: #ffffff;
  --border: #d5dae2;
  --text: #14181d;
  --accent-glow: #5b8aff55;
  --danger: #e84050;

  & :is(button, input, select, textarea) {
    background: #fff;
    color: var(--text);
  }

  & button:hover {
    background: linear-gradient(#eef1f5, #e4e8ee);
  }

  & .notice {
    background: #eef5ff;
    border-color: #c7dfff;
  }

  & #list-demo {
    & li {
      background: #fff;
    }

    & button.remove {
      background: #e9edf2;
      color: #5a6270;

      &:hover {
        background: #dfe5ec;
      }
    }
  }

  .form-output {
    background: #ffffff;
  }
}

html,
body {
  height: 100%;
}

body {
  font: 0.9375rem/1.5 system-ui, Arial, sans-serif; /* 15px -> rem */
  margin: 0;
  background: var(--bg);
  color: var(--text);
  padding: 2rem clamp(1rem, 3vw, 3rem);
  display: grid;
  gap: 2rem;
  align-content: start;
}

h1 {
  font-size: clamp(1.4rem, 2.8vw, 1.8rem);
  margin: 0 0 0.75rem;
}

p {
  margin: 0 0 0.75rem;
}
a {
  color: var(--accent);
}

button,
input,
select,
textarea {
  font: inherit;
  background: #1f2329;
  border: var(--hairline) solid var(--border);
  color: var(--text);
  padding: 0.55rem 0.9rem;
  border-radius: calc(var(--radius) - 0.25rem); /* -4px */
  outline: none;
  transition: border-color var(--dur-fast) var(--ease),
    background var(--dur-fast) var(--ease), color var(--dur-fast) var(--ease);

  &:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 var(--ring) var(--accent-glow);
  }
}

button {
  cursor: pointer;
  background: linear-gradient(#2a3039, #23272f);

  &:hover {
    background: linear-gradient(#303744, #272c33);
  }

  &.danger {
    background: linear-gradient(#ff5d63, #e2454d);
    border-color: #ff7d84;
    color: #fff;
  }

  &.secondary {
    background: #222831;

    &:hover {
      background: #2a313b;
    }
  }

  &.small {
    padding: 0.4rem 0.6rem;
    font-size: 0.7rem;
    letter-spacing: 0.03125rem; /* 0.5px */
    text-transform: uppercase;
  }
}

.panel {
  background: var(--panel);
  border: var(--hairline) solid var(--border);
  padding: 1.4rem 1.5rem 1.8rem;
  border-radius: var(--radius);
  position: relative;
  container-type: inline-size;

  & > header {
    font-weight: 600;
    margin-bottom: 0.9rem;
    letter-spacing: 0.03125rem; /* 0.5px */
    font-size: 0.95rem;
  }
}

#list-demo {
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.4rem;
  }

  li {
    background: #1f2329;
    border: var(--hairline) solid var(--border);
    padding: 0.55rem 0.75rem;
    border-radius: 0.375rem; /* 6px */
    display: flex;
    gap: 0.6rem;
    align-items: center;
  }

  a {
    text-decoration: none;
    font-weight: 500;
  }

  button.remove {
    margin-left: auto;
    background: #2c323a;
    color: #d5dce5;

    &:hover {
      background: #343b45;
    }
  }
}

.list-tools {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  justify-content: space-between;
  margin: 1rem 0 0.7rem;
  flex-wrap: wrap;

  & .count {
    font-size: 0.7rem;
    letter-spacing: 0.04375rem; /* 0.7px */
    opacity: 0.6;
    text-transform: uppercase;
  }
}

form.demo-form {
  display: grid;
  gap: 0.9rem;
  width: 100%;
  max-width: 100%;

  & .row {
    display: flex;
    gap: 0.6rem;
    flex-wrap: wrap;
  }

  & label {
    flex: 1 1 15rem; /* 240px */
    display: grid;
    gap: 0.35rem;
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.05rem; /* 0.8px */
    opacity: 0.65;

    & span {
      font-weight: 600;
    }
  }
}

.add-form {
  margin-top: 1rem;
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  width: 100%;

  & input {
    flex: 1 1 12.5rem;
  }

  & button {
    flex: 0 0 auto;
  }
}

.stack {
  display: grid;
  gap: 0.75rem;
}

.fade-in {
  animation: fade-in 0.45s var(--ease);
}

.fade-out {
  animation: fade-out 0.3s var(--ease) forwards;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(0.125rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-out {
  to {
    opacity: 0;
    transform: translateY(-0.125rem);
  }
}

.notice {
  padding: 0.75rem 0.9rem;
  background: #1e2b3c;
  border: var(--hairline) solid #254566;
  border-radius: 0.375rem; /* 6px */
  font-size: 0.85rem;
}

footer {
  opacity: 0.5;
  font-size: 0.75rem;
}

.form-output {
  margin-top: 1rem;
  margin-bottom: 0;
  background: #1f2329;
  border: var(--hairline) solid var(--border);
  padding: 0.9rem 0.95rem 1rem;
  border-radius: 0.375rem; /* 6px */
  font-size: 0.75rem;
  line-height: 1.4;
  overflow-x: auto;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono",
    monospace;
  position: relative;
  white-space: pre;

  /* Simple JSON token styling */
  .k {
    color: #4fa3ff;
  }
  .s {
    color: #9ccc65;
  }
  .n {
    color: #ffb454;
  }
  .b {
    color: #ff6e6e;
  }
  .p {
    opacity: 0.5;
  }
}

/* Responsive tweaks */
/* 560px */
@container (max-width: 35rem) {
  form.demo-form .row {
    flex-direction: column;
  }
}

/* 780px */
@media (max-width: 48.75rem) {
  body {
    padding: 1.5rem 1.2rem;
  }
  .panel {
    padding: 1.2rem 1.2rem 1.5rem;
  }
}
